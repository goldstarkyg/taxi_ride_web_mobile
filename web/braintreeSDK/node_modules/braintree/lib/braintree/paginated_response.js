//@ sourceMappingURL=paginated_response.map
// Generated by CoffeeScript 1.6.1
var PaginatedResponse, PaginatedResponseStream;

PaginatedResponseStream = require('./paginated_response_stream').PaginatedResponseStream;

PaginatedResponse = (function() {

  function PaginatedResponse(pagingFunction) {
    this.pagingFunction = pagingFunction;
    this.stream = new PaginatedResponseStream(this);
  }

  PaginatedResponse.prototype.all = function(callback) {
    var results;
    results = [];
    this.stream.on("data", function(data) {
      return results.push(data);
    });
    this.stream.on("end", function() {
      return callback(null, results);
    });
    this.stream.on("error", function(err) {
      return callback(err);
    });
    return this.stream.ready();
  };

  PaginatedResponse.prototype.ready = function() {
    return this.stream.ready();
  };

  return PaginatedResponse;

})();

exports.PaginatedResponse = PaginatedResponse;
